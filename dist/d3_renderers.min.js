(function(){var e;(e=function(e){return"object"==typeof exports&&"object"==typeof module?e(require("jquery"),require("d3")):"function"==typeof define&&define.amd?define(["jquery","d3"],e):e(jQuery,d3)})(function(e,t){return e.pivotUtilities.d3_renderers={Treemap:function(n,r){var i,u,l,o,d,h,c,a,f,s,y,p,g,m,v;for(o={localeStrings:{},d3:{width:function(){return e(window).width()/1.4},height:function(){return e(window).height()/1.4}}},r=e.extend(!0,{},o,r),f=e("<div>").css({width:"100%",height:"100%"}),p={name:"All",children:[]},i=function(e,t,n){var r,u,l,o,d,h;if(0===t.length)return void(e.value=n);for(null==e.children&&(e.children=[]),h=t.shift(),d=e.children,u=0,l=d.length;u<l;u++)if(r=d[u],r.name===h)return void i(r,t,n);return o={name:h},i(o,t,n),e.children.push(o)},a=n.getRowKeys(),h=0,c=a.length;h<c;h++)y=a[h],m=n.getAggregator(y,[]).value(),null!=m&&i(p,y,m);return u=t.scaleOrdinal(t.schemeCategory10),v=r.d3.width(),d=r.d3.height(),g=t.treemap().size([v,d]).tile(t.treemapResquarify),s=t.hierarchy(p,function(e){return function(e){return e.children}}(this)).sum(function(e){return function(e){return e.value}}(this)),l=g(s),t.select(f[0]).append("div").style("position","relative").style("width",v+"px").style("height",d+"px").selectAll(".node").data(l.leaves()).enter().append("div").attr("class","node").style("left",function(e){return function(e){return e.x0+"px"}}(this)).style("top",function(e){return function(e){return e.y0+"px"}}(this)).style("width",function(e){return function(e){return Math.max(0,e.x1-e.x0-1)+"px"}}(this)).style("height",function(e){return function(e){return Math.max(0,e.y1-e.y0-1)+"px"}}(this)).style("background",function(e){return null!=e.children?"lightgrey":u(e.data.name)}).text(function(e){return e.data.name}),f}}})}).call(this);
//# sourceMappingURL=d3_renderers.min.js.map
